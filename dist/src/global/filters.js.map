{"version":3,"sources":["../../../src/global/filters.js"],"names":["filters","init","val","setTarget","tar","index","style","backgroundColor","color","setAttribute","isOnlyOneSelected","target","el","targets","getElementsByTagName","i","length","isSelected","getAttribute","isShowNextStep","selectNum","data","nextStepButtonDisabled","hasClass","className","reg","RegExp","test","addClass","newClass","split","push","join","removeClass","ele","cls","replace","indexOf","arr2name","res","forEach","item","name","arr2id","_id","unix2time","prompt","txt","type","$createToast","time","unix2hhmm","urlDataTurnObj","url","urlData","decodeURIComponent","console","log","origin","substr","userInfor","userData","originData","functionunavailable","toast","show","reguserinfo","information","nickName","email","mobile","password","isSys","role","wx","parent","copy","obj","newobj","attr","emailReg","str","result","mobileReg","getUserInfo","userInfoStr","sessionStorage","getItem","JSON","parse","alert","install","Vue","key","filter","prototype"],"mappings":"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","file":"filters.js","sourcesContent":["let filters = {\r\n  init(val) {\r\n    return 'filter init'\r\n  },\r\n\r\n  setTarget(tar, index){\r\n    if(index === \"0\"){\r\n      tar.style.backgroundColor = \"#fd9153\";\r\n      tar.style.color = \"#fcffff\";\r\n      tar.setAttribute(\"data-isSelected\", \"1\");\r\n    }else {\r\n      tar.style.backgroundColor = \"#fcfcfc\";\r\n      tar.style.color = \"#676767\";\r\n      tar.setAttribute(\"data-isSelected\", \"0\");\r\n    }\r\n  },\r\n  isOnlyOneSelected(target, el) {\r\n    let targets = target.getElementsByTagName(el);\r\n    for(let i=0; i<targets.length; i++){\r\n      let isSelected = targets[i].getAttribute(\"data-isSelected\");\r\n      if(isSelected === \"1\"){\r\n        targets[i].style.backgroundColor = \"#fcfcfc\";\r\n        targets[i].style.color = \"#676767\";\r\n        targets[i].setAttribute(\"data-isSelected\", \"0\");\r\n      }\r\n    }\r\n  },\r\n  isShowNextStep(target) {\r\n    let targets = target.getElementsByTagName(\"span\");\r\n    let selectNum = 0;\r\n    let data = {\r\n      nextStepButtonDisabled:\"\",\r\n      index: \"\"\r\n    };\r\n    for(let i=0; i<targets.length; i++){\r\n      let index = i;\r\n      let isSelected = targets[i].getAttribute(\"data-isSelected\");\r\n      if(isSelected === \"1\"){\r\n        selectNum++;\r\n        data.index = index;\r\n      }\r\n    }\r\n\r\n    if (selectNum === 1){\r\n      data.nextStepButtonDisabled = false;\r\n    }else {\r\n      data.nextStepButtonDisabled = true;\r\n    }\r\n\r\n    return data;\r\n  },\r\n  hasClass(el, className) {\r\n    let reg = new RegExp('(^|\\\\s)' + className + '(\\\\s|$)');\r\n    return reg.test(el.className)\r\n  },\r\n  addClass(el, className) {\r\n    if (this.hasClass(el, className)) {\r\n      return\r\n    }\r\n\r\n    let newClass = el.className.split(' ');\r\n    newClass.push(className);\r\n    el.className = newClass.join(' ')\r\n  },\r\n  removeClass(ele, cls) {\r\n    if (this.hasClass(ele, cls)) {\r\n      var newClass = ' ' + ele.className.replace(/[\\t\\r\\n]/g, '') + ' ';\r\n      while (newClass.indexOf(' ' + cls + ' ') >= 0) {\r\n        newClass = newClass.replace(' ' + cls + ' ', ' ');\r\n      }\r\n      ele.className = newClass.replace(/^\\s+|\\s+$/g, '');\r\n    }\r\n  },\r\n  arr2name(val) {\r\n    if (val.length > 0) {\r\n      let res = []\r\n      val.forEach(item => {\r\n        res.push(item.name)\r\n      })\r\n      return res.join('、')\r\n    } else {\r\n      return '无'\r\n    }\r\n  },\r\n  arr2id(val) {\r\n    if (val.length > 0) {\r\n      let res = []\r\n      val.forEach(item => {\r\n        res.push(item._id)\r\n      })\r\n      return res\r\n    } else {\r\n      return val\r\n    }\r\n  },\r\n  unix2time(val) {\r\n    return val\r\n    // return moment.unix(val).format('YYYY-MM-DD HH:mm')\r\n  },\r\n  prompt (txt, type) {\r\n    return this.$createToast({\r\n      txt: txt,\r\n      type: type,\r\n      time: 1300\r\n    })\r\n  },\r\n  unix2hhmm(val) {\r\n    return val\r\n    // return moment.unix(val).format('HH:mm')\r\n  },\r\n  urlDataTurnObj(url){\r\n    // 目前只支持   ...home?userInfo={avatarUrl=\"https....}这样的类型\r\n    // url是传进来的完整地址\r\n    // urlData 去除 }\r\n    // origin 从第一个 { 开始 通过 & 分割\r\n    let urlData = decodeURIComponent(url);\r\n    console.log(urlData);\r\n    let origin = urlData.substr(urlData.indexOf('?') + 1).split('&');\r\n    let userInfor = {};\r\n\r\n    for(let userData in origin){\r\n      let originData = origin[userData].split(\"=\")\r\n      userInfor[originData[0]] = originData[1].replace(/\"/g, '');\r\n    }\r\n\r\n    //返回一个JSON字符串\r\n    return JSON.stringify(userInfor);\r\n  },\r\n  functionunavailable(){\r\n    //功能不可用的提示\r\n    const toast = this.$createToast({\r\n      txt: '本功能即将到来',\r\n      type: 'error',\r\n      time: 1300\r\n    })\r\n    toast.show()\r\n  },\r\n  reguserinfo(data){\r\n    // 注册用户需要用到的参数\r\n    const information = {\r\n      name: data.nickName || 0, //用户名称\r\n      email: data.email || '',//邮箱\r\n      mobile: data.mobile || '',//手机号\r\n      password: data.password || '',//密码\r\n      isSys: data.isSys || false,//是否是系统管理员\r\n      role: data.role || [],//如[{name:'普通用户',power:1000},{name:'商家',power,2000}]\r\n      wx: data,//微信信息:如openid,昵称和头像链接等等\r\n      parent: data.parent || 0\r\n    }\r\n    if (information.parent === 0) {\r\n      delete information.parent\r\n    }\r\n\r\n    return information;\r\n  },\r\n  copy(obj){\r\n    //浅拷贝\r\n    var newobj = {};\r\n    for ( var attr in obj) {\r\n      newobj[attr] = obj[attr];\r\n    }\r\n    return newobj;\r\n  },\r\n  emailReg(str){\r\n    //邮箱验证\r\n    const reg = /^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\\.[a-zA-Z0-9_-]+)+$/\r\n    const result = reg.test(str);\r\n    return result\r\n  },\r\n  mobileReg(str){\r\n    //手机号验证\r\n    const reg = /^1\\d{10}$/\r\n    const result = reg.test(str);\r\n    return result\r\n  },\r\n  //获取用户信息\r\n  getUserInfo: function () {\r\n    let userInfoStr = sessionStorage.getItem(\"userData\");\r\n    if(typeof userInfoStr === \"string\"){\r\n      return JSON.parse(userInfoStr);\r\n    }else {\r\n      alert(\"未获取到用户信息\");\r\n    }\r\n  }\r\n  //\r\n\r\n}\r\nexport default {\r\n  install(Vue) {\r\n    for (var key in filters) {\r\n      Vue.filter(key, filters[key])\r\n    }\r\n    Vue.prototype.unix2hhmm = filters.unix2hhmm\r\n    Vue.prototype.arr2name = filters.arr2name\r\n    Vue.prototype.arr2id = filters.arr2id\r\n    Vue.prototype.setTarget = filters.setTarget\r\n    Vue.prototype.isOnlyOneSelected = filters.isOnlyOneSelected\r\n    Vue.prototype.isShowNextStep = filters.isShowNextStep\r\n    Vue.prototype.addClass = filters.addClass\r\n    Vue.prototype.hasClass = filters.hasClass\r\n    Vue.prototype.removeClass = filters.removeClass\r\n    Vue.prototype.urlDataTurnObj = filters.urlDataTurnObj\r\n    Vue.prototype.functionunavailable = filters.functionunavailable\r\n    Vue.prototype.reguserinfo = filters.reguserinfo\r\n    Vue.prototype.copy = filters.copy\r\n    Vue.prototype.emailReg = filters.emailReg\r\n    Vue.prototype.mobileReg = filters.mobileReg\r\n    Vue.prototype.prompt = filters.prompt\r\n    Vue.prototype.getUserInfo = filters.getUserInfo\r\n  }\r\n}\r\n"]}