{"version":3,"sources":["../../../src/global/filters.js"],"names":["filters","init","val","setTarget","tar","index","style","backgroundColor","color","setAttribute","isOnlyOneSelected","target","el","targets","getElementsByTagName","i","length","isSelected","getAttribute","isShowNextStep","selectNum","data","nextStepButtonDisabled","hasClass","className","reg","RegExp","test","addClass","newClass","split","push","join","removeClass","ele","cls","replace","indexOf","arr2name","res","forEach","item","name","arr2id","_id","unix2time","prompt","txt","type","$createToast","time","unix2hhmm","urlDataTurnObj","url","urlData","origin","substr","userInfor","userData","originData","functionunavailable","toast","show","reguserinfo","information","nickName","email","mobile","password","isSys","role","wx","parent","copy","obj","newobj","attr","emailReg","str","result","mobileReg","getUserInfo","userInfoStr","sessionStorage","getItem","JSON","parse","alert","install","Vue","key","filter","prototype"],"mappings":"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","file":"filters.js","sourcesContent":["let filters = {\n  init(val) {\n    return 'filter init'\n  },\n\n  setTarget(tar, index){\n    if(index === \"0\"){\n      tar.style.backgroundColor = \"#fd9153\";\n      tar.style.color = \"#fcffff\";\n      tar.setAttribute(\"data-isSelected\", \"1\");\n    }else {\n      tar.style.backgroundColor = \"#fcfcfc\";\n      tar.style.color = \"#676767\";\n      tar.setAttribute(\"data-isSelected\", \"0\");\n    }\n  },\n  isOnlyOneSelected(target, el) {\n    let targets = target.getElementsByTagName(el);\n    for(let i=0; i<targets.length; i++){\n      let isSelected = targets[i].getAttribute(\"data-isSelected\");\n      if(isSelected === \"1\"){\n        targets[i].style.backgroundColor = \"#fcfcfc\";\n        targets[i].style.color = \"#676767\";\n        targets[i].setAttribute(\"data-isSelected\", \"0\");\n      }\n    }\n  },\n  isShowNextStep(target) {\n    let targets = target.getElementsByTagName(\"span\");\n    let selectNum = 0;\n    let data = {\n      nextStepButtonDisabled:\"\",\n      index: \"\"\n    };\n    for(let i=0; i<targets.length; i++){\n      let index = i;\n      let isSelected = targets[i].getAttribute(\"data-isSelected\");\n      if(isSelected === \"1\"){\n        selectNum++;\n        data.index = index;\n      }\n    }\n\n    if (selectNum === 1){\n      data.nextStepButtonDisabled = false;\n    }else {\n      data.nextStepButtonDisabled = true;\n    }\n\n    return data;\n  },\n  hasClass(el, className) {\n    let reg = new RegExp('(^|\\\\s)' + className + '(\\\\s|$)');\n    return reg.test(el.className)\n  },\n  addClass(el, className) {\n    if (this.hasClass(el, className)) {\n      return\n    }\n\n    let newClass = el.className.split(' ');\n    newClass.push(className);\n    el.className = newClass.join(' ')\n  },\n  removeClass(ele, cls) {\n    if (this.hasClass(ele, cls)) {\n      var newClass = ' ' + ele.className.replace(/[\\t\\r\\n]/g, '') + ' ';\n      while (newClass.indexOf(' ' + cls + ' ') >= 0) {\n        newClass = newClass.replace(' ' + cls + ' ', ' ');\n      }\n      ele.className = newClass.replace(/^\\s+|\\s+$/g, '');\n    }\n  },\n  arr2name(val) {\n    if (val.length > 0) {\n      let res = []\n      val.forEach(item => {\n        res.push(item.name)\n      })\n      return res.join('、')\n    } else {\n      return '无'\n    }\n  },\n  arr2id(val) {\n    if (val.length > 0) {\n      let res = []\n      val.forEach(item => {\n        res.push(item._id)\n      })\n      return res\n    } else {\n      return val\n    }\n  },\n  unix2time(val) {\n    return val\n    // return moment.unix(val).format('YYYY-MM-DD HH:mm')\n  },\n  prompt (txt, type) {\n    return this.$createToast({\n      txt: txt,\n      type: type,\n      time: 1300\n    })\n  },\n  unix2hhmm(val) {\n    return val\n    // return moment.unix(val).format('HH:mm')\n  },\n  urlDataTurnObj(url){\n    // 目前只支持   ...home?userInfo={avatarUrl=\"https....}这样的类型\n    // url是传进来的完整地址\n    // urlData 去除 }\n    // origin 从第一个 { 开始 通过 & 分割\n    let urlData = url.replace('}', '');\n    let origin = urlData.substr(urlData.indexOf('{') + 1).split('&');\n    let userInfor = {};\n\n    for(let userData in origin){\n      let originData = origin[userData].split(\"=\")\n      userInfor[originData[0]] = originData[1].replace(/\"/g, '');\n    }\n\n    //返回一个JSON字符串\n    return JSON.stringify(userInfor);\n  },\n  functionunavailable(){\n    //功能不可用的提示\n    const toast = this.$createToast({\n      txt: '本功能即将到来',\n      type: 'error',\n      time: 1300\n    })\n    toast.show()\n  },\n  reguserinfo(data){\n    // 注册用户需要用到的参数\n    const information = {\n      name: data.nickName || 0, //用户名称\n      email: data.email || \"\",//邮箱\n      mobile: data.mobile || \"\",//手机号\n      password: data.password || \"\",//密码\n      isSys: data.isSys || false,//是否是系统管理员\n      role: data.role || [],//如[{name:'普通用户',power:1000},{name:'商家',power,2000}]\n      wx: data,//微信信息:如openid,昵称和头像链接等等\n      parent: data.parent || 0\n    }\n    if (information.parent === 0) {\n      delete information.parent\n    }\n\n    return information;\n  },\n  copy(obj){\n    //浅拷贝\n    var newobj = {};\n    for ( var attr in obj) {\n      newobj[attr] = obj[attr];\n    }\n    return newobj;\n  },\n  emailReg(str){\n    //邮箱验证\n    const reg = /^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\\.[a-zA-Z0-9_-]+)+$/\n    const result = reg.test(str);\n    return result\n  },\n  mobileReg(str){\n    //手机号验证\n    const reg = /^1\\d{10}$/\n    const result = reg.test(str);\n    return result\n  },\n  //获取用户信息\n  getUserInfo: function () {\n    let userInfoStr = sessionStorage.getItem(\"userData\");\n    if(typeof userInfoStr === \"string\"){\n      return JSON.parse(userInfoStr);\n    }else {\n      alert(\"未获取到用户信息\");\n    }\n  }\n\n}\nexport default {\n  install(Vue) {\n    for (var key in filters) {\n      Vue.filter(key, filters[key])\n    }\n    Vue.prototype.unix2hhmm = filters.unix2hhmm\n    Vue.prototype.arr2name = filters.arr2name\n    Vue.prototype.arr2id = filters.arr2id\n    Vue.prototype.setTarget = filters.setTarget\n    Vue.prototype.isOnlyOneSelected = filters.isOnlyOneSelected\n    Vue.prototype.isShowNextStep = filters.isShowNextStep\n    Vue.prototype.addClass = filters.addClass\n    Vue.prototype.hasClass = filters.hasClass\n    Vue.prototype.removeClass = filters.removeClass\n    Vue.prototype.urlDataTurnObj = filters.urlDataTurnObj\n    Vue.prototype.functionunavailable = filters.functionunavailable\n    Vue.prototype.reguserinfo = filters.reguserinfo\n    Vue.prototype.copy = filters.copy\n    Vue.prototype.emailReg = filters.emailReg\n    Vue.prototype.mobileReg = filters.mobileReg\n    Vue.prototype.prompt = filters.prompt\n    Vue.prototype.getUserInfo = filters.getUserInfo\n  }\n}\n"]}