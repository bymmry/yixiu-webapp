{"version":3,"sources":["../../../src/global/filters.js"],"names":["filters","init","val","setTarget","tar","index","style","backgroundColor","color","setAttribute","isOnlyOneSelected","target","el","targets","getElementsByTagName","i","length","isSelected","getAttribute","isShowNextStep","selectNum","data","nextStepButtonDisabled","hasClass","className","reg","RegExp","test","addClass","newClass","split","push","join","removeClass","ele","cls","replace","indexOf","arr2name","res","forEach","item","name","arr2id","_id","unix2time","unix2hhmm","urlDataTurnObj","url","urlData","origin","substr","userInfor","userData","originData","install","Vue","key","filter","prototype"],"mappings":"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","file":"filters.js","sourcesContent":["let filters = {\r\n  init(val) {\r\n    return 'filter init'\r\n  },\r\n\r\n  setTarget(tar, index){\r\n    if(index === \"0\"){\r\n      tar.style.backgroundColor = \"#fd9153\";\r\n      tar.style.color = \"#fcffff\";\r\n      tar.setAttribute(\"data-isSelected\", \"1\");\r\n    }else {\r\n      tar.style.backgroundColor = \"#fcfcfc\";\r\n      tar.style.color = \"#676767\";\r\n      tar.setAttribute(\"data-isSelected\", \"0\");\r\n    }\r\n  },\r\n  isOnlyOneSelected(target, el) {\r\n    let targets = target.getElementsByTagName(el);\r\n    for(let i=0; i<targets.length; i++){\r\n      let isSelected = targets[i].getAttribute(\"data-isSelected\");\r\n      if(isSelected === \"1\"){\r\n        targets[i].style.backgroundColor = \"#fcfcfc\";\r\n        targets[i].style.color = \"#676767\";\r\n        targets[i].setAttribute(\"data-isSelected\", \"0\");\r\n      }\r\n    }\r\n  },\r\n  isShowNextStep(target) {\r\n    let targets = target.getElementsByTagName(\"span\");\r\n    let selectNum = 0;\r\n    let data = {\r\n      nextStepButtonDisabled:\"\",\r\n      index: \"\"\r\n    };\r\n    for(let i=0; i<targets.length; i++){\r\n      let index = i;\r\n      let isSelected = targets[i].getAttribute(\"data-isSelected\");\r\n      if(isSelected === \"1\"){\r\n        selectNum++;\r\n        data.index = index;\r\n      }\r\n    }\r\n\r\n    if (selectNum === 1){\r\n      data.nextStepButtonDisabled = false;\r\n    }else {\r\n      data.nextStepButtonDisabled = true;\r\n    }\r\n\r\n    return data;\r\n  },\r\n  hasClass(el, className) {\r\n    let reg = new RegExp('(^|\\\\s)' + className + '(\\\\s|$)');\r\n    return reg.test(el.className)\r\n  },\r\n  addClass(el, className) {\r\n    if (this.hasClass(el, className)) {\r\n      return\r\n    }\r\n\r\n    let newClass = el.className.split(' ');\r\n    newClass.push(className);\r\n    el.className = newClass.join(' ')\r\n  },\r\n  removeClass(ele, cls) {\r\n    if (this.hasClass(ele, cls)) {\r\n      var newClass = ' ' + ele.className.replace(/[\\t\\r\\n]/g, '') + ' ';\r\n      while (newClass.indexOf(' ' + cls + ' ') >= 0) {\r\n        newClass = newClass.replace(' ' + cls + ' ', ' ');\r\n      }\r\n      ele.className = newClass.replace(/^\\s+|\\s+$/g, '');\r\n    }\r\n  },\r\n  arr2name(val) {\r\n    if (val.length > 0) {\r\n      let res = []\r\n      val.forEach(item => {\r\n        res.push(item.name)\r\n      })\r\n      return res.join('、')\r\n    } else {\r\n      return '无'\r\n    }\r\n  },\r\n  arr2id(val) {\r\n    if (val.length > 0) {\r\n      let res = []\r\n      val.forEach(item => {\r\n        res.push(item._id)\r\n      })\r\n      return res\r\n    } else {\r\n      return val\r\n    }\r\n  },\r\n  unix2time(val) {\r\n    return val\r\n    // return moment.unix(val).format('YYYY-MM-DD HH:mm')\r\n  },\r\n  unix2hhmm(val) {\r\n    return val\r\n    // return moment.unix(val).format('HH:mm')\r\n  },\r\n  urlDataTurnObj(url){\r\n    // 目前只支持   ...home?userInfo={avatarUrl=\"https....}这样的类型\r\n    // url是传进来的完整地址\r\n    // urlData 去除 } \r\n    // origin 从第一个 { 开始 通过 & 分割  \r\n    let urlData = url.replace('}', '');\r\n    let origin = urlData.substr(urlData.indexOf('{') + 1).split('&');\r\n    let userInfor = {};\r\n\r\n    for(let userData in origin){\r\n      let originData = origin[userData].split(\"=\")\r\n      userInfor[originData[0]] = originData[1].replace(/\"/g, '');\r\n    }\r\n\r\n    //返回一个JSON字符串\r\n    return JSON.stringify(userInfor);\r\n  }\r\n}\r\nexport default {\r\n  install(Vue) {\r\n    for (var key in filters) {\r\n      Vue.filter(key, filters[key])\r\n    }\r\n    Vue.prototype.unix2hhmm = filters.unix2hhmm\r\n    Vue.prototype.arr2name = filters.arr2name\r\n    Vue.prototype.arr2id = filters.arr2id\r\n    Vue.prototype.setTarget = filters.setTarget\r\n    Vue.prototype.isOnlyOneSelected = filters.isOnlyOneSelected\r\n    Vue.prototype.isShowNextStep = filters.isShowNextStep\r\n    Vue.prototype.addClass = filters.addClass\r\n    Vue.prototype.hasClass = filters.hasClass\r\n    Vue.prototype.removeClass = filters.removeClass\r\n    Vue.prototype.urlDataTurnObj = filters.urlDataTurnObj\r\n  }\r\n}\r\n"]}