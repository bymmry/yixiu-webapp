{"version":3,"sources":["../../../../src/views/common/api.js"],"names":["getShopList","getShopData","getPhoneBrand","getPhoneModel","getPhoneProblem","getShopListSort","ajax","url","resolve","reject","get","then","res","err","shopId","phoneId","data","filter","score","serviceFinishTime","serviceFinishCount","price","distance","pv","name","serviceName","point","post"],"mappings":";;;;;;;;;;QAKiBA,W,GAAAA,W;QAWCC,W,GAAAA,W;QAWFC,a,GAAAA,a;QAWAC,a,GAAAA,a;QAWAC,e,GAAAA,e;QAWAC,e,GAAAA,e;;AA5DhB;;;;;;AACA,IAAMC,OAAO,eAAQA,IAArB;AACA,IAAMC,MAAM,yBAAZ;;AAEC;AACO,SAASP,WAAT,GAAuB;AAC3B,SAAO,sBAAY,UAACQ,OAAD,EAAUC,MAAV,EAAqB;AACtCH,SAAKI,GAAL,CAASH,MAAM,OAAf,EAAwBI,IAAxB,CAA6B,UAACC,GAAD,EAAS;AACpCJ,cAAQI,GAAR;AACD,KAFD,EAEGD,IAFH,CAEQ,UAACE,GAAD,EAAS;AACfJ,aAAOI,GAAP;AACD,KAJD;AAKD,GANM,CAAP;AAOD;;AAED;AACO,SAASZ,WAAT,CAAqBa,MAArB,EAA6B;AAClC,SAAO,sBAAY,UAACN,OAAD,EAAUC,MAAV,EAAqB;AACtCH,SAAKI,GAAL,CAAYH,GAAZ,cAAwBO,MAAxB,EAAkCH,IAAlC,CAAuC,UAACC,GAAD,EAAS;AAC9CJ,cAAQI,GAAR;AACD,KAFD,EAEGD,IAFH,CAEQ,UAACE,GAAD,EAAS;AACfJ,aAAOI,GAAP;AACD,KAJD;AAKD,GANM,CAAP;AAOD;;AAEH;AACO,SAASX,aAAT,GAAyB;AAC7B,SAAO,sBAAY,UAACM,OAAD,EAAUC,MAAV,EAAqB;AACtCH,SAAKI,GAAL,CAAYH,GAAZ,0BAAsCI,IAAtC,CAA2C,UAACC,GAAD,EAAS;AAClDJ,cAAQI,GAAR;AACD,KAFD,EAEGD,IAFH,CAEQ,UAACE,GAAD,EAAS;AACfJ,aAAOI,GAAP;AACD,KAJD;AAKD,GANM,CAAP;AAOF;;AAED;AACO,SAASV,aAAT,CAAuBY,OAAvB,EAAgC;AACrC,SAAO,sBAAY,UAACP,OAAD,EAAUC,MAAV,EAAqB;AACtCH,SAAKI,GAAL,CAAYH,GAAZ,qBAA+BQ,OAA/B,EAA0CJ,IAA1C,CAA+C,UAACC,GAAD,EAAS;AACtDJ,cAAQI,GAAR;AACD,KAFD,EAEGD,IAFH,CAEQ,UAACE,GAAD,EAAS;AACfJ,aAAOI,GAAP;AACD,KAJD;AAKD,GANM,CAAP;AAOD;;AAED;AACO,SAAST,eAAT,GAA2B;AAChC,SAAO,sBAAY,UAACI,OAAD,EAAUC,MAAV,EAAqB;AACtCH,SAAKI,GAAL,CAAYH,GAAZ,4BAAwCI,IAAxC,CAA6C,UAACC,GAAD,EAAS;AACpDJ,cAAQI,GAAR;AACD,KAFD,EAEGD,IAFH,CAEQ,UAACE,GAAD,EAAS;AACfJ,aAAOI,GAAP;AACD,KAJD;AAKD,GANM,CAAP;AAOD;;AAED;AACO,SAASR,eAAT,CAAyBW,IAAzB,EAA+B;AACnC,MAAIC,SAAS;AACXC,WAAO,CADI,EACF;AACTC,uBAAmB,CAFR,EAEU;AACrBC,wBAAoB,CAHT,EAGW;AACtBC,WAAO,CAJI,EAIF;AACTC,cAAU,CALC,EAKC;AACZC,QAAI,CANO,EAML;AACNC,UAAM,EAPK,EAOF;AACTC,iBAAa,EARF,EAQK;AAChBC,WAAO,EATI,CAWT;AAXS,GAAb;AAaD,SAAO,sBAAY,UAAClB,OAAD,EAAUC,MAAV,EAAqB;AACtCH,SAAKqB,IAAL,CAAapB,GAAb,mBAAgCU,MAAhC,EAAwCN,IAAxC,CAA6C,UAACC,GAAD,EAAS;AACpDJ,cAAQI,GAAR;AACD,KAFD,EAEGD,IAFH,CAEQ,UAACE,GAAD,EAAS;AACfJ,aAAOI,GAAP;AACD,KAJD;AAKD,GANM,CAAP;AAOD","file":"api.js","sourcesContent":["import ajaxLib from '../../lib/ajax';\r\nconst ajax = ajaxLib.ajax;\r\nconst url = \"https://m.yixiutech.com\";\r\n\r\n //获取商家列表\r\n export function getShopList() {\r\n    return new Promise((resolve, reject) => {\r\n      ajax.get(url + '/shop').then((res) => {\r\n        resolve(res);\r\n      }).then((err) => {\r\n        reject(err);\r\n      });\r\n    });\r\n  }\r\n\r\n  //获取商家详情\r\n  export function getShopData(shopId) {\r\n    return new Promise((resolve, reject) => {\r\n      ajax.get(`${url}/shop/${shopId}`).then((res) => {\r\n        resolve(res);\r\n      }).then((err) => {\r\n        reject(err);\r\n      })\r\n    })\r\n  }\r\n\r\n//  获取手机品牌\r\nexport function getPhoneBrand() {\r\n   return new Promise((resolve, reject) => {\r\n     ajax.get(`${url}/phone/manufacturer`).then((res) => {\r\n       resolve(res);\r\n     }).then((err) => {\r\n       reject(err);\r\n     })\r\n   })\r\n}\r\n\r\n// 根据品牌id获取该品牌支持的手机型号\r\nexport function getPhoneModel(phoneId) {\r\n  return new Promise((resolve, reject) => {\r\n    ajax.get(`${url}/phone/model/${phoneId}`).then((res) => {\r\n      resolve(res);\r\n    }).then((err) => {\r\n      reject(err);\r\n    })\r\n  })\r\n}\r\n\r\n// 获取热门手机维修服务分类\r\nexport function getPhoneProblem() {\r\n  return new Promise((resolve, reject) => {\r\n    ajax.get(`${url}/category/phoneRepair`).then((res) => {\r\n      resolve(res);\r\n    }).then((err) => {\r\n      reject(err);\r\n    })\r\n  })\r\n}\r\n\r\n//根据筛选条件获取商家列表\r\nexport function getShopListSort(data) {\r\n   let filter = {\r\n     score: 1,//评分\r\n     serviceFinishTime: 1,//完成时间/(速度)\r\n     serviceFinishCount: 1,//修好数量\r\n     price: 1,//均价\r\n     distance: 1,//距离\r\n     pv: 1,//浏览量\r\n     name: \"\",//商家名称\r\n     serviceName: \"\",//服务名称\r\n     point: {\r\n\r\n     } //用户定位信息的经纬度\r\n   };\r\n  return new Promise((resolve, reject) => {\r\n    ajax.post(`${url}/shop/filter`, filter).then((res) => {\r\n      resolve(res);\r\n    }).then((err) => {\r\n      reject(err);\r\n    })\r\n  })\r\n}\r\n\r\n"]}