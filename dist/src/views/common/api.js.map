{"version":3,"sources":["../../../../src/views/common/api.js"],"names":["getShopList","getShopData","getPhoneBrand","getPhoneModel","getPhoneProblem","getShopListSort","getuserinforByopenId","reguser","updateuserinfo","sureOrder","ajax","url","resolve","reject","get","then","res","err","shopId","phoneId","data","filter","score","serviceFinishTime","serviceFinishCount","price","distance","pv","name","serviceName","point","post","openId"],"mappings":"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","file":"api.js","sourcesContent":["import ajaxLib from '../../lib/ajax';\nconst ajax = ajaxLib.ajax;\n// const url = 'https://m.yixiutech.com';\nconst url = \"https://yixiu.natappvip.cc\";\n\n//获取商家列表\nexport function getShopList() {\n  return new Promise((resolve, reject) => {\n    ajax.get(url + '/shop').then((res) => {\n      resolve(res);\n    }).then((err) => {\n      reject(err);\n    });\n  });\n}\n\n//获取商家详情\nexport function getShopData(shopId) {\n  return new Promise((resolve, reject) => {\n    ajax.get(`${url}/shop/${shopId}`).then((res) => {\n      resolve(res);\n    }).then((err) => {\n      reject(err);\n    })\n  })\n}\n\n//  获取手机品牌\nexport function getPhoneBrand() {\n  return new Promise((resolve, reject) => {\n    ajax.get(`${url}/phone/manufacturer`).then((res) => {\n      resolve(res);\n    }).then((err) => {\n      reject(err);\n    })\n  })\n}\n\n// 根据品牌id获取该品牌支持的手机型号\nexport function getPhoneModel(phoneId) {\n  return new Promise((resolve, reject) => {\n    ajax.get(`${url}/phone/model/${phoneId}`).then((res) => {\n      resolve(res);\n    }).then((err) => {\n      reject(err);\n    })\n  })\n}\n\n// 获取热门手机维修服务分类\nexport function getPhoneProblem(data) {\n  return new Promise((resolve, reject) => {\n    ajax.get(`${url}/category/shop/${data}`).then((res) => {\n      resolve(res);\n    }).then((err) => {\n      reject(err);\n    })\n  })\n}\n\n// huoqu\n\n//根据筛选条件获取商家列表\nexport function getShopListSort(data) {\n  let filter = {\n    score: 1,//评分\n    serviceFinishTime: 1,//完成时间/(速度)\n    serviceFinishCount: 1,//修好数量\n    price: 1,//均价\n    distance: 1,//距离\n    pv: 1,//浏览量\n    name: '',//商家名称\n    serviceName: '',//服务名称\n    point: {\n\n    } //用户定位信息的经纬度\n  };\n  return new Promise((resolve, reject) => {\n    ajax.post(`${url}/shop/filter`, filter).then((res) => {\n      resolve(res);\n    }).then((err) => {\n      reject(err);\n    })\n  })\n}\n\n//通过openid查询用户信息\nexport function getuserinforByopenId(openId){\n  return new Promise((resolve, reject) => {\n    ajax.get(url + '/user/openid/' + openId).then((res) => {\n      resolve(res);\n    }).then((err) => {\n      reject(err);\n    });\n  });\n}\n\n//根据微信信息注册用户\nexport function reguser(data){\n  return new Promise((resolve, reject) => {\n    ajax.post(url + '/user/reg/', data).then((res) => {\n      resolve(res);\n    }).then((err) => {\n      reject(err);\n    });\n  });\n}\n\n//更新用户信息\nexport function updateuserinfo(data){\n  return new Promise((resolve, reject) => {\n    ajax.post(url + '/user/update', data).then((res) => {\n      resolve(res);\n    }).then((err) => {\n      reject(err);\n    });\n  });\n}\n\n//  确认下单\nexport function sureOrder(data) {\n  return new Promise((resolve, reject) => {\n    ajax.post(`${url}/order/service`, data).then((res) => {\n      resolve(res);\n    }).then((err) => {\n      reject(err);\n    })\n  })\n}\n"]}